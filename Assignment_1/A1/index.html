<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EventHub - Event Management</title>
    <link rel="stylesheet" href="../framework/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="app" class="container py-4 py-lg-5">
      <header class="mb-4">
        <h1 class="display-5 fw-bold">EventHub â€“ Event Management</h1>
        <p class="text-muted mb-0">Discover, explore, and register for events that match your goals.</p>
      </header>

      <section class="hero p-4 p-lg-5 mb-5">
        <div class="row align-items-center gy-4">
          <div class="col-lg-6">
            <h2 class="section-title mb-3">Manage your events</h2>
            <p class="mb-4">
              Manage events seamlessly with curated experiences, real-time insights, and
              personalized recommendations.
            </p>
            <div class="d-flex flex-wrap gap-2">
              <span class="badge text-bg-light text-dark">Trusted Events</span>
              <span class="badge text-bg-light text-dark">Smart Management</span>
              <span class="badge text-bg-light text-dark">Event Management</span>
            </div>
          </div>
          <div class="col-lg-6">
            <img src="assets/event-management-banner.jpg" alt="Event management illustration" class="img-fluid" />
          </div>
        </div>
      </section>

      <section class="mb-5">
        <h2 class="section-title mb-3">Why Choose Us?</h2>
        <div class="row g-3">
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">1</div>
                <h3 class="h5">Curated Events</h3>
                <p class="mb-0">Access high-quality events tailored to technology, business, finance, and marketing.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">2</div>
                <h3 class="h5">Smart Discovery</h3>
                <p class="mb-0">Use fast search and filtering to find the right event in seconds.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">3</div>
                <h3 class="h5">Secure Registration</h3>
                <p class="mb-0">Register confidently with password checks and clear confirmations.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">4</div>
                <h3 class="h5">Live Insights</h3>
                <p class="mb-0">Track durations, categories, and participation to optimize your schedule.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">5</div>
                <h3 class="h5">Responsive Design</h3>
                <p class="mb-0">Enjoy a seamless experience across mobile, tablet, and desktop screens.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <div class="card h-100 shadow-sm">
              <div class="card-body">
                <div class="card-icon mb-3">6</div>
                <h3 class="h5">Dedicated Support</h3>
                <p class="mb-0">Get help when you need it, with guidance built into the platform.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="mb-5">
        <div class="mb-3">
          <h2 class="section-title mb-1">Event Information</h2>
          <p class="text-muted mb-0">Search and filter events by ID, name, duration, or category.</p>
        </div>

        <div class="mb-3">
          <label for="searchInput" class="form-label fw-semibold fs-4">Search events</label>
          <input
            id="searchInput"
            v-model="searchText"
            type="text"
            class="form-control form-control-lg"
            placeholder="Search by ID, name, or duration"
            aria-describedby="searchHelp"
          />
          <div id="searchHelp" class="form-text">Search updates automatically as you type.</div>
        </div>

        <div class="mb-3">
          <span class="fw-semibold me-2">Category filter:</span>
          <div class="btn-group" role="group" aria-label="Event category filter">
            <input class="btn-check" type="radio" name="tableCategory" id="catAll" value="All" v-model="tableCategory" />
            <label class="btn btn-outline-primary" for="catAll">All</label>

            <input class="btn-check" type="radio" name="tableCategory" id="catTech" value="Technology" v-model="tableCategory" />
            <label class="btn btn-outline-primary" for="catTech">Technology</label>

            <input class="btn-check" type="radio" name="tableCategory" id="catBusiness" value="Business" v-model="tableCategory" />
            <label class="btn btn-outline-primary" for="catBusiness">Business</label>

            <input class="btn-check" type="radio" name="tableCategory" id="catMarketing" value="Marketing" v-model="tableCategory" />
            <label class="btn btn-outline-primary" for="catMarketing">Marketing</label>

            <input class="btn-check" type="radio" name="tableCategory" id="catFinance" value="Finance" v-model="tableCategory" />
            <label class="btn btn-outline-primary" for="catFinance">Finance</label>
          </div>
        </div>

        <div class="table-responsive shadow-sm rounded bg-white">
          <table class="table table-striped align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th scope="col">Event ID</th>
                <th scope="col">Event Name</th>
                <th scope="col">Category</th>
                <th scope="col">Duration (Hours)</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="event in paginatedEvents" :key="event.eventid">
                <td>{{ event.eventid }}</td>
                <td>{{ event.eventname }}</td>
                <td>{{ event.category }}</td>
                <td>{{ event.durationhour }}</td>
              </tr>
              <tr v-if="filteredEvents.length === 0">
                <td colspan="4" class="text-center text-muted">No events match your search.</td>
              </tr>
            </tbody>
          </table>
        </div>
        <nav class="mt-3" aria-label="Event table pagination" v-if="totalPages > 1">
          <ul class="pagination justify-content-center">
            <li class="page-item" :class="{ disabled: currentPage === 1 }">
              <button class="page-link" type="button" @click="currentPage = 1" :disabled="currentPage === 1">
                First
              </button>
            </li>
            <li class="page-item" :class="{ disabled: currentPage === 1 }">
              <button class="page-link" type="button" @click="currentPage -= 1" :disabled="currentPage === 1">
                Previous
              </button>
            </li>
            <li class="page-item disabled">
              <span class="page-link">Page {{ currentPage }} of {{ totalPages }}</span>
            </li>
            <li class="page-item" :class="{ disabled: currentPage === totalPages }">
              <button class="page-link" type="button" @click="currentPage += 1" :disabled="currentPage === totalPages">
                Next
              </button>
            </li>
            <li class="page-item" :class="{ disabled: currentPage === totalPages }">
              <button class="page-link" type="button" @click="currentPage = totalPages" :disabled="currentPage === totalPages">
                Last
              </button>
            </li>
          </ul>
        </nav>
        <p v-if="loadError" class="text-danger mt-2">{{ loadError }}</p>
      </section>
      <hr>
      <section class="mb-5">
        <h2 class="section-title mb-3">Registration Form</h2>
        <form class="row g-3" @submit.prevent="handleSubmit">
          <div class="col-12 col-md-6">
            <label for="username" class="form-label">Username</label>
            <input id="username" v-model="username" type="text" class="form-control" required />
          </div>
          <div class="col-12 col-md-6">
            <label for="password" class="form-label">Password</label>
            <input id="password" v-model="password" type="password" class="form-control" required />
          </div>
          <div class="col-12 col-md-6">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <input
              id="confirmPassword"
              v-model="confirmPassword"
              type="password"
              class="form-control"
              required
              aria-describedby="passwordMatchHint"
            />
            <div id="passwordMatchHint" class="form-hint text-danger" v-if="passwordMismatch">
              Passwords do not match.
            </div>
            <div class="form-hint text-success" v-else-if="password && confirmPassword">
              Passwords match.
            </div>
          </div>
          <div class="col-12">
            <fieldset>
              <legend class="col-form-label fw-semibold">Event Category</legend>
              <div class="d-flex flex-wrap gap-3">
                <div class="form-check" v-for="category in categories" :key="category">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="regCategory"
                    :id="`reg-${category}`"
                    :value="category"
                    v-model="regCategory"
                  />
                  <label class="form-check-label" :for="`reg-${category}`">{{ category }}</label>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="col-12 col-md-6">
            <label for="eventSelect" class="form-label">Event Name</label>
            <select id="eventSelect" v-model="regEventName" class="form-select" required>
              <option v-for="event in eventsForRegistration" :key="event.eventid" :value="event.eventname">
                {{ event.eventname }}
              </option>
            </select>
          </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary">Register</button>
          </div>
        </form>

        <div v-if="submittedSummary" class="summary-box mt-4" role="status" aria-live="polite">
          <h3 class="h5">Registration Summary</h3>
          <p class="mb-1"><strong>Username:</strong> {{ submittedSummary.username }}</p>
          <p class="mb-1"><strong>Selected Category:</strong> {{ submittedSummary.category }}</p>
          <p class="mb-0"><strong>Selected Event:</strong> {{ submittedSummary.eventName }}</p>
        </div>
      </section>
    </div>

    <script src="../framework/js/vue.global.js"></script>
    <script src="../framework/js/bootstrap.min.js"></script>
    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            events: [
              { eventid: "EVT10001", eventname: "Tech Innovations Conference", category: "Technology", durationhour: 8 },
              { eventid: "EVT10002", eventname: "Startup Pitch Day", category: "Business", durationhour: 6 },
              { eventid: "EVT10003", eventname: "AI & Machine Learning Summit", category: "Technology", durationhour: 10 },
              { eventid: "EVT10004", eventname: "Cybersecurity Workshop", category: "Technology", durationhour: 4 },
              { eventid: "EVT10005", eventname: "Digital Marketing Bootcamp", category: "Marketing", durationhour: 6 },
              { eventid: "EVT10006", eventname: "Blockchain and Cryptocurrency", category: "Finance", durationhour: 5 },
              { eventid: "EVT10007", eventname: "Entrepreneurship Forum", category: "Business", durationhour: 7 },
              { eventid: "EVT10008", eventname: "Data Science Hackathon", category: "Technology", durationhour: 12 },
              { eventid: "EVT10009", eventname: "Leadership and Management Summit", category: "Business", durationhour: 9 },
              { eventid: "EVT10010", eventname: "E-commerce Strategies", category: "Marketing", durationhour: 6 },
              { eventid: "EVT10011", eventname: "AI for Business", category: "Business", durationhour: 8 },
              { eventid: "EVT10012", eventname: "IoT & Smart Devices Expo", category: "Technology", durationhour: 7 },
              { eventid: "EVT10013", eventname: "Brand Strategy and Growth", category: "Marketing", durationhour: 5 },
              { eventid: "EVT10014", eventname: "Investment and Wealth Management", category: "Finance", durationhour: 6 },
              { eventid: "EVT10015", eventname: "Financial Technology (FinTech) Summit", category: "Finance", durationhour: 8 },
              { eventid: "EVT10016", eventname: "AI Ethics and Regulations", category: "Technology", durationhour: 4 },
              { eventid: "EVT10017", eventname: "Business Analytics Workshop", category: "Business", durationhour: 6 },
              { eventid: "EVT10018", eventname: "SEO and Content Marketing", category: "Marketing", durationhour: 7 },
              { eventid: "EVT10019", eventname: "Cryptocurrency Investment Strategies", category: "Finance", durationhour: 9 },
              { eventid: "EVT10020", eventname: "Social Media Marketing Trends", category: "Marketing", durationhour: 5 }
            ],
            searchText: "",
            tableCategory: "All",
            categories: ["Technology", "Business", "Marketing", "Finance"],
            currentPage: 1,
            pageSize: 6,
            username: "",
            password: "",
            confirmPassword: "",
            regCategory: "Business",
            regEventName: "",
            submittedSummary: null
          };
        },
        computed: {
          filteredEvents() {
            const query = this.searchText.trim().toLowerCase();
            return this.events.filter((event) => {
              const matchesCategory =
                this.tableCategory === "All" || event.category === this.tableCategory;

              const matchesQuery =
                !query ||
                event.eventid.toLowerCase().includes(query) ||
                event.eventname.toLowerCase().includes(query) ||
                String(event.durationhour).includes(query);

              return matchesCategory && matchesQuery;
            });
          },
          totalPages() {
            return Math.max(1, Math.ceil(this.filteredEvents.length / this.pageSize));
          },
          paginatedEvents() {
            const start = (this.currentPage - 1) * this.pageSize;
            return this.filteredEvents.slice(start, start + this.pageSize);
          },
          passwordMismatch() {
            return (
              this.password.length > 0 &&
              this.confirmPassword.length > 0 &&
              this.password !== this.confirmPassword
            );
          },
          eventsForRegistration() {
            return this.events.filter((event) => event.category === this.regCategory);
          }
        },
        watch: {
          regCategory() {
            const list = this.eventsForRegistration;
            this.regEventName = list.length > 0 ? list[0].eventname : "";
          },
          filteredEvents() {
            this.currentPage = 1;
          }
        },
        methods: {
          handleSubmit() {
            if (this.passwordMismatch) {
              this.submittedSummary = null;
              return;
            }
            this.submittedSummary = {
              username: this.username.trim(),
              category: this.regCategory,
              eventName: this.regEventName
            };
          }
        },
        mounted() {
          if (!this.regEventName && this.eventsForRegistration.length > 0) {
            this.regEventName = this.eventsForRegistration[0].eventname;
          }
        }
      }).mount("#app");
    </script>
  </body>
</html>
